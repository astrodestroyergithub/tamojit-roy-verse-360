<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newsletter Dashboard</title>
    <link rel="icon" type="image/x-icon" href="../favicon/favicon.ico">
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <script>
        (function () {
            const isMobile = window.matchMedia('(max-width: 768px)').matches;
            if (isMobile) {
                window.location.replace('/admin/mobile-block.html');
            }
        })();
    </script>

    <div class="dashboard">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>üìß Verse 360 Manager</h2>
            </div>
            <nav class="sidebar-nav">
                <button class="nav-item active" data-tab="overview">
                    <span class="icon">üìä</span>
                    <span>Overview</span>
                </button>
                <button class="nav-item" data-tab="subscribers">
                    <span class="icon">üë•</span>
                    <span>Subscribers</span>
                </button>
                <button class="nav-item" data-tab="newsletters">
                    <span class="icon">üì∞</span>
                    <span>Newsletters</span>
                </button>
                <button class="nav-item" data-tab="create">
                    <span class="icon">‚úèÔ∏è</span>
                    <span>Create New</span>
                </button>
                <button class="nav-item" data-tab="upload">
                    <span class="icon">üì§</span>
                    <span>Upload</span>
                </button>
                <button class="nav-item" data-tab="freelance">
                    <span class="icon">üíº</span>
                    <span>Freelance</span>
                </button>
                <button class="nav-item" data-tab="threeSixty">
                    <span class="icon">üß†</span>
                    <span>360¬∞ Analytics</span>
                </button>
                <button class="nav-item" data-tab="techUpdates">
                    <span class="icon">üßë‚Äçüíª</span>
                    <span>Tech Updates</span>
                </button>
            </nav>
            <div class="sidebar-footer">
                <button id="logout-btn" class="btn-secondary">Logout</button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <h1 id="page-title">Overview</h1>
                <div class="header-actions">
                    <span class="welcome-text">Welcome, Admin!</span>
                </div>
            </header>

            <!-- Overview Tab -->
            <div class="tab-content active" id="overview-tab">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-info">
                            <h3 id="total-subscribers">0</h3>
                            <p>Total Subscribers</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìß</div>
                        <div class="stat-info">
                            <h3 id="total-newsletters">0</h3>
                            <p>Total Newsletters</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-info">
                            <h3 id="sent-newsletters">0</h3>
                            <p>Sent Newsletters</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è∞</div>
                        <div class="stat-info">
                            <h3 id="scheduled-newsletters">0</h3>
                            <p>Scheduled</p>
                        </div>
                    </div>
                </div>

                <div class="recent-activity">
                    <h2>Recent Activity</h2>
                    <div id="recent-newsletters" class="activity-list"></div>
                </div>
            </div>

            <!-- Subscribers Tab -->
            <div class="tab-content" id="subscribers-tab">
                <div class="content-card">
                    <div class="card-header">
                        <h2>All Subscribers</h2>
                        <div class="header-buttons">
                            <button id="copy-emails-btn" class="btn-secondary">Copy Recipient Email Ids</button>
                            <button id="export-subscribers" class="btn-secondary">Export CSV</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Email</th>
                                    <th>Subscribed Date</th>
                                    <th>IP Address</th>
                                </tr>
                            </thead>
                            <tbody id="subscribers-table-body"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Copy Emails Modal -->
            <div id="copy-emails-modal" class="modal">
                <div class="modal-overlay" id="modal-overlay"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Copy Subscriber Email Ids</h3>
                        <button class="modal-close" id="modal-close">&times;</button>
                    </div>
                    <div class="modal-body">
                        <p class="modal-description">
                            Click the button below to copy all subscriber email addresses. 
                            Each email is separated by a comma and space (, ).
                        </p>
                        <div class="email-preview-box">
                            <textarea id="emails-textarea" readonly></textarea>
                        </div>
                        <div class="email-count">
                            Total Subscribers: <strong id="email-count">0</strong>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="copy-to-clipboard-btn" class="btn-primary">
                            <span class="btn-icon">üìã</span>
                            <span class="btn-text">Copy to Clipboard</span>
                        </button>
                        <button id="modal-cancel" class="btn-secondary">Close</button>
                    </div>
                </div>
            </div>

            <!-- Newsletters Tab -->
            <div class="tab-content" id="newsletters-tab">
                <div class="content-card">
                    <div class="card-header">
                        <h2>All Newsletters</h2>
                    </div>
                    <div id="newsletters-list" class="newsletters-grid"></div>
                </div>
            </div>

            <!-- Create Newsletter Tab -->
            <div class="tab-content" id="create-tab">
                <div class="content-card">
                    <h2>Create Newsletter</h2>
                    <form id="newsletter-form" class="newsletter-form">
                        <div class="form-group">
                            <label for="newsletter-title">Newsletter Title</label>
                            <input type="text" id="newsletter-title" required placeholder="e.g., Monthly Update - January 2025">
                        </div>
                        <div class="form-group">
                            <label for="newsletter-subject">Email Subject</label>
                            <input type="text" id="newsletter-subject" required placeholder="e.g., Your Monthly Tech Update üöÄ">
                        </div>
                        <div class="form-group">
                            <label for="newsletter-image">Header Image URL (Optional)</label>
                            <input type="url" id="newsletter-image" placeholder="https://example.com/image.jpg">
                            <small>Tip: Upload to Imgur, Cloudinary, or any image hosting service</small>
                        </div>
                        <div class="form-group">
                            <label for="newsletter-content">Newsletter Content</label>
                            <textarea id="newsletter-content" rows="15" required placeholder="Write your newsletter content here..."></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="schedule-send">
                                    Schedule for later
                                </label>
                            </div>
                        </div>
                        <div class="form-group" id="schedule-group" style="display: none;">
                            <label for="schedule-datetime">Schedule Date & Time</label>
                            <input type="datetime-local" id="schedule-datetime">
                        </div>
                        <div class="form-actions">
                            <button type="button" id="save-draft-btn" class="btn-secondary">Save as Draft</button>
                            <button type="submit" class="btn-primary">
                                <span id="send-btn-text">Send Now</span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Upload Tab -->
            <div class="tab-content" id="upload-tab">
                <div class="content-card">
                    <div class="card-header">
                        <h2>üì§ Upload Newsletter Documents</h2>
                    </div>

                    <!-- Upload Form -->
                    <div class="upload-doc-section">
                        <form id="upload-doc-form" class="upload-doc-form">
                            <div class="upload-doc-info-box">
                                <h3>üìã Filename Format Requirements</h3>
                                <p class="upload-doc-format-text">
                                    <code>&lt;Newsletter_Title&gt;_&lt;Email_Subject&gt;_&lt;Status&gt;_&lt;Date&gt;.docx</code>
                                </p>
                                <ul class="upload-doc-requirements-list">
                                    <li><strong>Status:</strong> sending, sent, scheduled, or draft</li>
                                    <li><strong>For scheduled:</strong> Add timestamp like: scheduled_2025-01-15T10:30:00</li>
                                    <li><strong>Date format:</strong> YYYY-MM-DD</li>
                                    <li><strong>Example:</strong> MonthlyUpdate_TechNews_sent_2025-01-10.docx</li>
                                </ul>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="upload-doc-newsletter-title">Newsletter Title</label>
                                    <input type="text" id="upload-doc-newsletter-title" required placeholder="e.g., Monthly Tech Update">
                                </div>
                                <div class="form-group">
                                    <label for="upload-doc-email-subject">Email Subject</label>
                                    <input type="text" id="upload-doc-email-subject" required placeholder="e.g., Your January Newsletter">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="upload-doc-status">Status</label>
                                    <select id="upload-doc-status" required>
                                        <option value="">Select status</option>
                                        <option value="draft">Draft</option>
                                        <option value="sending">Sending</option>
                                        <option value="sent">Sent</option>
                                        <option value="scheduled">Scheduled</option>
                                    </select>
                                </div>
                                <div class="form-group" id="upload-doc-scheduled-group" style="display: none;">
                                    <label for="upload-doc-scheduled-time">Scheduled Time</label>
                                    <input type="datetime-local" id="upload-doc-scheduled-time">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="upload-doc-file">Upload Word Document (.docx)</label>
                                <input type="file" id="upload-doc-file" accept=".docx" required>
                                <p class="upload-doc-file-note">Maximum file size: 10MB</p>
                            </div>

                            <div class="form-group">
                                <p class="upload-doc-generated-filename">
                                    Generated filename: <strong id="upload-doc-preview-filename">-</strong>
                                </p>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn-primary" id="upload-doc-submit-btn">
                                    <span class="btn-icon">üì§</span>
                                    <span class="btn-text">Upload Document</span>
                                </button>
                                <button type="button" class="btn-secondary" id="upload-doc-reset-btn">Reset Form</button>
                            </div>
                        </form>
                    </div>

                    <!-- Uploaded Documents List -->
                    <div class="upload-doc-list-section">
                        <h3>üìÅ Uploaded Documents</h3>
                        <div id="upload-doc-list-container" class="upload-doc-list-container"></div>
                    </div>
                </div>
            </div>

            <!-- Freelance Tab -->
            <div class="tab-content" id="freelance-tab">
                <div class="freelance-dashboard">
                    <!-- Top Stats -->
                    <div class="freelance-stats-grid">
                        <div class="freelance-stat-card freelance-stat-primary">
                            <div class="freelance-stat-icon">üìã</div>
                            <div class="freelance-stat-content">
                                <h3 id="freelance-total-appointments">0</h3>
                                <p>Total Appointments</p>
                            </div>
                        </div>
                        <div class="freelance-stat-card freelance-stat-warning">
                            <div class="freelance-stat-icon">‚è≥</div>
                            <div class="freelance-stat-content">
                                <h3 id="freelance-pending-count">0</h3>
                                <p>Pending</p>
                            </div>
                        </div>
                        <div class="freelance-stat-card freelance-stat-success">
                            <div class="freelance-stat-icon">‚úÖ</div>
                            <div class="freelance-stat-content">
                                <h3 id="freelance-confirmed-count">0</h3>
                                <p>Confirmed</p>
                            </div>
                        </div>
                        <div class="freelance-stat-card freelance-stat-info">
                            <div class="freelance-stat-icon">üî•</div>
                            <div class="freelance-stat-content">
                                <h3 id="freelance-urgent-count">0</h3>
                                <p>Urgent Requests</p>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Row -->
                    <div class="freelance-charts-row">
                        <div class="freelance-chart-card">
                            <h3>üìä Service Distribution</h3>
                            <canvas id="freelance-service-chart"></canvas>
                        </div>
                        <div class="freelance-chart-card">
                            <h3>üí∞ Budget Distribution</h3>
                            <canvas id="freelance-budget-chart"></canvas>
                        </div>
                    </div>

                    <!-- More Charts -->
                    <div class="freelance-charts-row">
                        <div class="freelance-chart-card">
                            <h3>üìà Monthly Trends</h3>
                            <canvas id="freelance-monthly-chart"></canvas>
                        </div>
                        <div class="freelance-chart-card">
                            <h3>üéØ Meeting Type Preferences</h3>
                            <canvas id="freelance-meeting-chart"></canvas>
                        </div>
                    </div>

                    <!-- Appointments Table -->
                    <div class="content-card">
                        <div class="card-header">
                            <h2>All Appointments</h2>
                            <button id="freelance-export-btn" class="btn-secondary">Export CSV</button>
                        </div>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Client</th>
                                        <th>Project</th>
                                        <th>Budget</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="freelance-appointments-table"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 360¬∞ Business Intelligence Matrix Tab -->
            <div class="tab-content" id="threeSixty-tab">
                <div class="threeSixty-header">
                    <h2>üß† 360¬∞ Business Intelligence Matrix</h2>
                    <p>Deep cross-domain analytics across Appointments, Newsletters & Subscribers</p>
                </div>

                <!-- 10 ROWS √ó 2 GRIDS = 20 BASE GRAPHS -->
                <div class="threeSixty-grid">

                    <!-- Row 1 -->
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph01"></canvas></div>
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph02"></canvas></div>

                    <!-- Row 2 -->
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph03"></canvas></div>
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph04"></canvas></div>

                    <!-- Row 3 -->
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph05"></canvas></div>
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph06"></canvas></div>

                    <!-- Row 4 -->
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph07"></canvas></div>
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph08"></canvas></div>
                    
                    <!-- Row 5 -->
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph09"></canvas></div>
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph10"></canvas></div>
                    
                    <!-- Row 6 -->
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph11"></canvas></div>
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph12"></canvas></div>
                    
                    <!-- Row 7 -->
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph13"></canvas></div>
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph14"></canvas></div>
                    
                    <!-- Row 8 -->
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph15"></canvas></div>
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph16"></canvas></div>
                    
                    <!-- Row 9 -->
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph17"></canvas></div>
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph18"></canvas></div>
                    
                    <!-- Row 10 -->
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph19"></canvas></div>
                    <div class="threeSixty-card"><canvas id="threeSixtyGraph20"></canvas></div>

                </div>
            </div>

            <!-- Tech Updates Tab -->
            <div class="tab-content" id="techUpdates-tab">
                <div class="techUpdates-section-header">
                    <h2>üßë‚Äçüíª Technology News Matrix</h2>
                    <p>Real-time technology news aggregated from multiple global sources</p>
                </div>
                <div id="techUpdatesGrid" class="techUpdates-grid"></div>
                <div class="techUpdates-pagination">
                    <button id="techUpdatesPrev">‚Üê Prev</button>
                    <span id="techUpdatesPageInfo"></span>
                    <button id="techUpdatesNext">Next ‚Üí</button>
                </div>
            </div>

        </main>
    </div>

    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="admin.js"></script>
</body>
</html>